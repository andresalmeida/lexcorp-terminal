---
import '@fontsource/ibm-plex-mono';
import ModalManager from '../components/ModalManager.jsx';
import CommandInterface from '../components/CommandInterface.jsx';
---

<html lang="es">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/lexcorp-logo.svg?v=1" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- Primary Meta Tags -->
		<title>Marvel Universe Chat | Andrés Almeida - Heroes Assembly</title>
		<meta name="title" content="Marvel Universe Chat | Andrés Almeida - Heroes Assembly" />
		<meta name="description" content="Chatea con héroes de Marvel: Sue Storm, Iron Man y Captain Marvel. Terminal interactivo para discutir innovación, tecnología y liderazgo heroico." />
		<meta name="keywords" content="Marvel, Chat IA, Sue Storm, Iron Man, Captain Marvel, Terminal Interactivo, Heroes, Innovación" />
		<meta name="author" content="Andrés Almeida Jara" />
		<meta name="robots" content="index, follow" />
		<link rel="canonical" href="https://andresalmeida.com/chat-marvel" />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://andresalmeida.com/chat-marvel" />
		<meta property="og:title" content="Marvel Universe Chat | Heroes Assembly" />
		<meta property="og:description" content="Experiencia única para chatear con Sue Storm, Iron Man y Captain Marvel en un terminal interactivo. Discute innovación y heroísmo." />
		<meta property="og:image" content="https://andresalmeida.com/og-image-marvel.jpg" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:site_name" content="Andrés Almeida Portfolio" />
		<meta property="og:locale" content="es_ES" />

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content="https://andresalmeida.com/chat-marvel" />
		<meta property="twitter:title" content="Marvel Universe Chat | Heroes Assembly" />
		<meta property="twitter:description" content="Chatea con Sue Storm, Iron Man y Captain Marvel en un terminal interactivo único. ¡Innovación y heroísmo!" />
		<meta property="twitter:image" content="https://andresalmeida.com/og-image-marvel.jpg" />
		<meta property="twitter:creator" content="@andresalmeida" />

		<!-- Additional Meta -->
		<meta name="theme-color" content="#8b0000" />
		<meta name="color-scheme" content="dark" />
		<meta name="format-detection" content="telephone=no" />
		
		<!-- Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

		<!-- JSON-LD Structured Data -->
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "WebPage",
			"name": "Marvel Universe Chat Terminal - Heroes Assembly",
			"description": "Terminal interactivo para chatear con héroes de Marvel usando inteligencia artificial.",
			"url": "https://andresalmeida.com/chat-marvel",
			"author": {
				"@type": "Person",
				"name": "Andrés Almeida Jara"
			},
			"isPartOf": {
				"@type": "WebSite",
				"name": "Andrés Almeida Portfolio",
				"url": "https://andresalmeida.com"
			}
		}
		</script>
	</head>
	<body class="bg-red-950 text-terminal-text font-mono min-h-screen">
		<!-- Terminal Container -->
		<div class="min-h-screen p-4 flex flex-col max-w-7xl mx-auto">
			<!-- Terminal Header -->
			<div class="flex items-center justify-between mb-4 border-b border-terminal-text/30 pb-2">
				<div class="flex items-center space-x-2">
					<div class="w-3 h-3 rounded-full bg-red-500"></div>
					<div class="w-3 h-3 rounded-full bg-yellow-500"></div>
					<div class="w-3 h-3 rounded-full bg-green-500"></div>
				</div>
				<div class="text-terminal-text/70 text-sm">
					MARVEL_TERMINAL v2.0.0 // STARK_INDUSTRIES_NETWORK
				</div>
				<div class="text-terminal-text/50 text-xs">
					<span id="current-time"></span>
				</div>
			</div>

			<!-- Boot Sequence -->
			<div id="boot-sequence" class="space-y-2 mb-8">
				<div class="typing-line opacity-0">
					<span class="text-terminal-accent">></span> Initializing Marvel Heroes Terminal...
				</div>
				<div class="typing-line opacity-0">
					<span class="text-terminal-accent">></span> Loading Stark Industries protocols...
				</div>
				<div class="typing-line opacity-0">
					<span class="text-terminal-accent">></span> Establishing heroes network...
				</div>
				<div class="typing-line opacity-0">
					<span class="text-terminal-accent">></span> Scanning for available heroes...
				</div>
				<div class="typing-line opacity-0">
					<span class="text-red-400">></span> Heroes assembled. Welcome to Marvel Universe.
				</div>
				<div class="typing-line opacity-0">
					<span class="text-terminal-accent">></span> Available heroes: <span class="text-terminal-sue-glow">[INVISIBLE WOMAN]</span> <span class="text-yellow-400">[IRON MAN]</span> <span class="text-blue-400">[CAPTAIN MARVEL]</span>
				</div>
				<div class="typing-line opacity-0">
					<span class="text-red-400">></span> Heroes ready for action!
				  </div>
			</div>

			<!-- Main Terminal Content -->
			<div id="main-content" class="flex-1 opacity-0">
				<!-- Command Prompt -->
				<div class="mb-6">
					<div class="flex items-center">
						<span class="text-terminal-accent">adaghost@terminal:~$</span>
						<span class="ml-2 text-terminal-text">access --heroes</span>
					</div>
				</div>

				<!-- Character Selection Grid -->
				<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
					<!-- INVISIBLE WOMAN (Sue Storm) -->
					<div id="sue-entity" class="entity-card transition-all duration-500 cursor-pointer group">
						<!-- Image Section -->
						<div class="relative h-80 rounded-lg overflow-hidden border-2 border-terminal-sue-primary/50 group-hover:border-terminal-sue-glow transition-all duration-500 mb-1">
							<!-- Background Image -->
							<div class="absolute inset-0 bg-cover bg-center bg-no-repeat" style="background-image: url('/images/sue-storm.jpg')"></div>
							
							<!-- Sue Cyan Overlay -->
							<div class="absolute inset-0 bg-terminal-sue-primary/30 group-hover:bg-terminal-sue-glow/50 transition-all duration-500"></div>
							
							<!-- Invisible Force Field Effect -->
							<div class="absolute inset-0 bg-gradient-to-r from-transparent via-terminal-sue-glow/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500"></div>
							
							<!-- Character Icon -->
							<div class="relative z-10 h-full flex items-center justify-center">
								<div class="text-6xl text-terminal-sue-glow drop-shadow-lg filter group-hover:scale-110 transition-transform duration-300">◇</div>
							</div>
							
							<!-- Force Field Lines -->
							<div class="absolute inset-0 opacity-0 group-hover:opacity-60 transition-all duration-500 pointer-events-none">
								<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 border-2 border-terminal-sue-glow rounded-full animate-ping"></div>
							</div>
						</div>
						
						<!-- Info Box Section -->
						<div class="bg-red-900/90 border-2 border-terminal-sue-primary/50 group-hover:border-terminal-sue-glow rounded-lg p-4 transition-all duration-500 shadow-lg">
							<h3 class="text-terminal-sue-glow font-bold text-lg mb-1">INVISIBLE WOMAN</h3>
							<p class="text-terminal-text text-sm mb-2">Sue Storm</p>
							<div class="text-xs text-terminal-text/60 italic mb-2">Chat sobre: Creatividad, innovación, trabajo en equipo, liderazgo</div>
							<div class="text-xs text-terminal-text/80">
								Status: <span class="text-terminal-sue-glow animate-pulse font-semibold">PHASE SHIFT</span>
							</div>
						</div>
					</div>

					<!-- IRON MAN (Tony Stark) -->
					<div id="ironman-entity" class="entity-card transition-all duration-500 cursor-pointer group">
						<!-- Image Section -->
						<div class="relative h-80 rounded-lg overflow-hidden border-2 border-yellow-500/50 group-hover:border-yellow-400 transition-all duration-500 mb-1">
							<!-- Background Image -->
							<div class="absolute inset-0 bg-cover bg-center bg-no-repeat" style="background-image: url('/images/iron-man.jpg')"></div>
							
							<!-- Terminal Overlay -->
							<div class="absolute inset-0 bg-terminal-text/30 group-hover:bg-terminal-text/20 transition-all duration-500"></div>
							
							<!-- Iron Man Color Overlay -->
							<div class="absolute inset-0 bg-yellow-600/30 group-hover:bg-yellow-400/50 transition-all duration-500"></div>
							
							<!-- Arc Reactor Effect -->
							<div class="absolute inset-0 bg-gradient-to-r from-transparent via-yellow-400/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500"></div>
							
							<!-- Character Icon -->
							<div class="relative z-10 h-full flex items-center justify-center">
								<div class="text-6xl text-yellow-400 drop-shadow-lg filter group-hover:scale-110 transition-transform duration-300">⚡</div>
							</div>
							
							<!-- Arc Reactor Pulse -->
							<div class="absolute inset-0 opacity-0 group-hover:opacity-60 transition-all duration-500 pointer-events-none">
								<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 border-2 border-yellow-400 rounded-full animate-ping"></div>
								<div class="absolute top-1/4 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-yellow-400 rounded-full animate-bounce"></div>
								<div class="absolute top-3/4 left-1/4 w-1 h-1 bg-red-500 rounded-full animate-ping"></div>
								<div class="absolute top-1/2 right-1/4 w-1 h-1 bg-yellow-300 rounded-full animate-pulse"></div>
							</div>
						</div>
						
						<!-- Info Box Section -->
						<div class="bg-red-900/90 border-2 border-yellow-500/50 group-hover:border-yellow-400 rounded-lg p-4 transition-all duration-500 shadow-lg">
							<h3 class="text-yellow-400 font-bold text-lg mb-1">IRON MAN</h3>
							<p class="text-terminal-text text-sm mb-2">Tony Stark</p>
							<div class="text-xs text-terminal-text/60 italic mb-2">Chat sobre: Tecnología, innovación, emprendimiento, ingeniería</div>
							<div class="text-xs text-terminal-text/80">
								Status: <span class="text-yellow-400 animate-pulse font-semibold">POWERED UP</span>
							</div>
						</div>
					</div>

					<!-- CAPTAIN MARVEL (Carol Danvers) -->
					<div id="captainmarvel-entity" class="entity-card transition-all duration-500 cursor-pointer group">
						<!-- Image Section -->
						<div class="relative h-80 rounded-lg overflow-hidden border-2 border-blue-500/50 group-hover:border-blue-400 transition-all duration-500 mb-1">
							<!-- Background Image -->
							<div class="absolute inset-0 bg-cover bg-center bg-no-repeat" style="background-image: url('/images/captain-marvel.jpg')"></div>
							
							<!-- Terminal Overlay -->
							<div class="absolute inset-0 bg-terminal-text/30 group-hover:bg-terminal-text/20 transition-all duration-500"></div>
							
							<!-- Captain Marvel Color Overlay -->
							<div class="absolute inset-0 bg-blue-600/30 group-hover:bg-blue-400/50 transition-all duration-500"></div>
							
							<!-- Cosmic Energy Effect -->
							<div class="absolute inset-0 bg-gradient-to-t from-blue-600/30 via-blue-400/20 to-yellow-300/10 opacity-0 group-hover:opacity-100 transition-all duration-500"></div>
							
							<!-- Character Icon -->
							<div class="relative z-10 h-full flex items-center justify-center">
								<div class="text-6xl text-blue-400 drop-shadow-lg filter group-hover:scale-110 transition-transform duration-300">✦</div>
							</div>
							
							<!-- Cosmic Energy Aura -->
							<div class="absolute inset-0 opacity-0 group-hover:opacity-40 transition-all duration-500 pointer-events-none">
								<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-2 border-blue-400 rounded-full animate-ping"></div>
								<div class="absolute top-1/4 right-1/4 w-1 h-1 bg-yellow-400 rounded-full animate-pulse"></div>
								<div class="absolute bottom-1/4 left-1/4 w-1 h-1 bg-blue-300 rounded-full animate-bounce"></div>
								<div class="absolute top-3/4 right-1/3 w-2 h-2 bg-blue-400 rounded-full animate-ping"></div>
							</div>
							
							<!-- Energy Stream Effect -->
							<div class="absolute inset-0 bg-gradient-to-r from-transparent via-blue-400/15 to-transparent opacity-0 group-hover:opacity-100 group-hover:animate-pulse transition-all duration-300"></div>
						</div>
						
						<!-- Info Box Section -->
						<div class="bg-red-900/90 border-2 border-blue-500/50 group-hover:border-blue-400 rounded-lg p-4 transition-all duration-500 shadow-lg">
							<h3 class="text-blue-400 font-bold text-lg mb-1">CAPTAIN MARVEL</h3>
							<p class="text-terminal-text text-sm mb-2">Carol Danvers</p>
							<div class="text-xs text-terminal-text/60 italic mb-2">Chat sobre: Liderazgo, determinación, superación, valentía</div>
							<div class="text-xs text-terminal-text/80">
								Status: <span class="text-blue-400 animate-pulse font-semibold">COSMIC POWER</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Interactive Command Interface -->
				<CommandInterface client:load />
			</div>
		</div>

		<!-- React Component for Entity Modals -->
		<ModalManager client:load />

		<!-- JavaScript for Terminal Effects -->
		<script>
			// Update time
			function updateTime() {
				const now = new Date();
				const timeString = now.toLocaleString([], { 
					hour12: false
				});
				const element = document.getElementById('current-time');
				if (element) {
					element.textContent = timeString;
				}
			}
			
			setInterval(updateTime, 1000);
			updateTime();

			// Boot sequence animation
			const lines = document.querySelectorAll('.typing-line');
			const mainContent = document.getElementById('main-content') as HTMLElement;
			
			lines.forEach((line, index) => {
				const element = line as HTMLElement;
				setTimeout(() => {
					element.style.opacity = '1';
					element.style.animation = 'typing 1s steps(30, end)';
				}, (index + 1) * 800);
			});

			// Show main content after boot sequence
			setTimeout(() => {
				if (mainContent) {
					mainContent.style.opacity = '1';
					mainContent.style.animation = 'fadeIn 1s ease-in';
				}
			}, (lines.length + 1) * 800);

			// Entity click effects - dispatch events for React modal
			document.getElementById('sue-entity')?.addEventListener('click', () => {
				window.dispatchEvent(new CustomEvent('openEntityModal', { detail: { entity: 'sue' } }));
			});
			
			document.getElementById('ironman-entity')?.addEventListener('click', () => {
				window.dispatchEvent(new CustomEvent('openEntityModal', { detail: { entity: 'ironman' } }));
			});
			
			document.getElementById('captainmarvel-entity')?.addEventListener('click', () => {
				window.dispatchEvent(new CustomEvent('openEntityModal', { detail: { entity: 'captainmarvel' } }));
			});
		</script>

		<style>
			@keyframes fadeIn {
				from { opacity: 0; transform: translateY(10px); }
				to { opacity: 1; transform: translateY(0); }
			}
			
			.typing-line {
				white-space: nowrap;
				overflow: hidden;
				border-right: 2px solid #33FF66;
				animation: blink 1s step-end infinite;
			}
		</style>
	</body>
</html> 